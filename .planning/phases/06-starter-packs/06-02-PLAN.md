---
phase: 06-starter-packs
plan: 02
type: execute
wave: 2
depends_on: ["06-01"]
files_modified:
  - src/app/packs/page.tsx
  - src/app/packs/[slug]/page.tsx
  - src/components/pack-card.tsx
  - src/app/layout.tsx
autonomous: true

must_haves:
  truths:
    - "A non-technical user can browse all starter packs at /packs and understand what each one is for"
    - "Clicking a pack card on /packs navigates to /packs/[slug]"
    - "Each pack detail page at /packs/[slug] lists linked tools with narrative context in order"
    - "Each tool in a pack detail links to its full listing at /tools/[slug]"
    - "A 'Packs' link appears in the site header navigation"
    - "/packs/[nonexistent] returns 404 (not found)"
    - "Pack pages have SEO metadata (title, description, OpenGraph)"
  artifacts:
    - path: "src/app/packs/page.tsx"
      provides: "Pack browse page with grid of pack cards"
      min_lines: 25
    - path: "src/app/packs/[slug]/page.tsx"
      provides: "Pack detail page with narrative tool sections"
      min_lines: 50
    - path: "src/components/pack-card.tsx"
      provides: "Reusable pack card component for browse page"
      min_lines: 15
    - path: "src/app/layout.tsx"
      provides: "Updated nav with Packs link"
      contains: "/packs"
  key_links:
    - from: "src/app/packs/page.tsx"
      to: "src/services/packs.ts"
      via: "Server Component calls listPacks() to fetch all packs"
      pattern: "listPacks"
    - from: "src/app/packs/[slug]/page.tsx"
      to: "src/services/packs.ts"
      via: "Server Component calls getPackWithTools(slug) to fetch pack with tools"
      pattern: "getPackWithTools"
    - from: "src/app/packs/[slug]/page.tsx"
      to: "src/app/tools/[slug]/page.tsx"
      via: "Tool name links to /tools/[tool.slug] for full listing detail"
      pattern: "href.*tools/"
    - from: "src/components/pack-card.tsx"
      to: "src/app/packs/[slug]/page.tsx"
      via: "Card links to /packs/[pack.slug]"
      pattern: "href.*packs/"
---

<objective>
Pack browse page at `/packs` and pack detail page at `/packs/[slug]` with narrative layout.

Purpose: Provides the user-facing UI for starter packs — a simple card grid at `/packs` for browsing all available packs, and a scrollytelling-style detail page at `/packs/[slug]` that presents each tool in order with narrative context explaining how tools work together. Both are Server Components (no client-side data fetching needed).

Output: /packs browse page, /packs/[slug] detail page, pack-card component, nav link in header.
</objective>

<execution_context>
@/Users/clawdioversace/.claude/get-shit-done/workflows/execute-plan.md
@/Users/clawdioversace/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-starter-packs/06-RESEARCH.md
@.planning/phases/06-starter-packs/06-01-SUMMARY.md
@src/services/packs.ts
@src/app/layout.tsx
@src/app/page.tsx
@src/app/tools/[slug]/page.tsx
@src/components/listing-card.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create pack browse page and pack card component</name>
  <files>
    src/app/packs/page.tsx
    src/components/pack-card.tsx
    src/app/layout.tsx
  </files>
  <action>
    **In src/components/pack-card.tsx (new file):**

    Create a reusable pack card component. Follow existing Tailwind patterns from listing-card.tsx and the overall design system:

    ```typescript
    import Link from 'next/link';
    ```

    Props interface:
    - `pack: { slug: string; name: string; tagline: string; coverImage?: string | null }`

    The component should:
    1. Wrap entire card in a `<Link href={/packs/${pack.slug}}>` for full-card clickability
    2. Render an `<article>` with card styling matching the existing card pattern:
       - `rounded-lg border border-zinc-200 bg-white p-6 shadow-sm hover:shadow-md transition-shadow dark:border-zinc-800 dark:bg-zinc-900`
    3. Show `pack.name` as `<h2>` with `text-xl font-bold mb-2` and group-hover:underline
    4. Show `pack.tagline` as `<p>` with `text-zinc-600 dark:text-zinc-400`
    5. If `pack.coverImage` exists, render it above the text content (but skip for MVP — all packs start with null cover images)
    6. Export as default: `export default function PackCard({ pack }: PackCardProps)`

    **In src/app/packs/page.tsx (new file):**

    Create the pack browse page as a Server Component (no 'use client' — same pattern as Phase 3 homepage):

    1. Import `listPacks` from `@/services/packs`
    2. Import `PackCard` from `@/components/pack-card`
    3. Export `metadata`:
       ```
       export const metadata = {
         title: 'Starter Packs | AI Bazaar',
         description: 'Curated collections of AI, agent, and Web3 tools for common use cases. Get started fast with expert-picked toolkits.',
         openGraph: {
           title: 'Starter Packs | AI Bazaar',
           description: 'Curated collections of AI, agent, and Web3 tools for common use cases.',
         },
       };
       ```
    4. Default export an async Server Component that:
       a. Calls `const packs = await listPacks()`
       b. Renders a header section:
          - `<h1>` "Starter Packs" with `text-3xl font-bold text-zinc-900 dark:text-zinc-50 sm:text-4xl`
          - `<p>` subtitle: "Curated collections of tools for common use cases. Each pack tells you what to use and why." with `text-lg text-zinc-600 dark:text-zinc-400 mt-4`
       c. Renders a responsive grid of PackCard components:
          - `grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-10`
          - Map over `packs` and render `<PackCard key={pack.id} pack={pack} />`
       d. If `packs.length === 0`, show a fallback: "No starter packs available yet. Check back soon!"

    **In src/app/layout.tsx:**

    Add a "Packs" nav link in the header between "Browse" and "Submit":
    ```
    <Link href="/packs" className="text-sm font-medium text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-50">
      Packs
    </Link>
    ```

    Place it after the Browse link and before the Submit link to maintain logical navigation flow: Home > Browse > Packs > Submit.
  </action>
  <verify>
    Files exist: `ls src/app/packs/page.tsx src/components/pack-card.tsx`
    TypeScript compiles: `cd /Users/clawdioversace/ai-bazaar && bunx tsc --noEmit --pretty 2>&1 | head -30`
    Nav link present: `grep -n '/packs' src/app/layout.tsx`
    Imports correct: `grep -n 'listPacks\|PackCard' src/app/packs/page.tsx`
  </verify>
  <done>
    /packs browse page renders a grid of pack cards. PackCard component links to /packs/[slug]. "Packs" link appears in header nav. TypeScript compiles without errors.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create pack detail page with narrative tool layout and SEO metadata</name>
  <files>
    src/app/packs/[slug]/page.tsx
  </files>
  <action>
    **In src/app/packs/[slug]/page.tsx (new file):**

    Create the pack detail page as a Server Component with dynamic metadata. Follow the same patterns as src/app/tools/[slug]/page.tsx (listing detail page):

    1. Import:
       - `notFound` from `'next/navigation'`
       - `getPackWithTools` from `'@/services/packs'`
       - `Link` from `'next/link'`
       - `Metadata` type from `'next'`

    2. Add `generateMetadata` for dynamic SEO:
       ```typescript
       export async function generateMetadata({
         params,
       }: {
         params: Promise<{ slug: string }>
       }): Promise<Metadata> {
         const { slug } = await params;
         const pack = await getPackWithTools(slug);
         if (!pack) return {};

         return {
           title: `${pack.name} | AI Bazaar Starter Packs`,
           description: pack.tagline,
           openGraph: {
             title: pack.name,
             description: pack.tagline,
           },
         };
       }
       ```

       **CRITICAL:** In Next.js 16, `params` is a Promise — it MUST be awaited. The `params: Promise<{ slug: string }>` type is correct for Next.js 16. Same pattern used in the existing tools/[slug]/page.tsx.

    3. Default export async Server Component:
       ```typescript
       export default async function PackDetailPage({
         params,
       }: {
         params: Promise<{ slug: string }>
       }) {
         const { slug } = await params;
         const pack = await getPackWithTools(slug);

         if (!pack) {
           notFound();
         }
         // ... render pack
       }
       ```

    4. Render the pack detail with narrative scrollytelling layout:

       **Header section:**
       - `<h1>` with pack.name — `text-3xl font-bold text-zinc-900 dark:text-zinc-50 sm:text-4xl`
       - `<p>` with pack.tagline — `text-xl text-zinc-600 dark:text-zinc-400 mt-3`

       **Pack description (narrative intro):**
       - `<div className="prose prose-zinc dark:prose-invert max-w-none mt-8 mb-12">`
       - `<p>{pack.description}</p>`

       **Tool count badge:**
       - Small badge showing "{N} tools in this pack" — `text-sm text-zinc-500 dark:text-zinc-400 mb-8`

       **Tools list with narrative sections:**
       - Container: `<div className="space-y-12">`
       - For each tool in `pack.tools` (already ordered by the service query):
         ```
         <section key={pt.toolId} className="flex items-start gap-4 sm:gap-6">
           {/* Step number */}
           <div className="flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-zinc-100 text-lg font-bold text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400">
             {idx + 1}
           </div>

           {/* Tool content */}
           <div className="flex-1 min-w-0">
             <h2 className="text-xl font-bold text-zinc-900 dark:text-zinc-50">
               <Link href={`/tools/${pt.tool.slug}`} className="hover:underline">
                 {pt.tool.name}
               </Link>
             </h2>
             <p className="text-sm text-zinc-500 dark:text-zinc-400 mt-1">
               {pt.tool.tagline}
             </p>
             {/* Narrative: WHY this tool matters in this pack */}
             <p className="text-zinc-700 dark:text-zinc-300 mt-3 leading-relaxed">
               {pt.narrative}
             </p>
           </div>
         </section>
         ```

       **Back link:**
       - At the bottom of the page, add a link back to /packs:
         ```
         <Link href="/packs" className="inline-block mt-12 text-sm font-medium text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-50">
           ← Back to all packs
         </Link>
         ```

    **Mobile considerations:**
    - The step number circle + content layout uses `flex items-start gap-4 sm:gap-6` — compact on mobile, roomier on desktop
    - All text is readable at mobile widths (no fixed-width columns)
    - Tool names are full-width links with min-height for touch targets (inherits from the text size)

    **Edge case: Pack with no tools found.**
    If `pack.tools.length === 0` (all referenced tools were deleted from catalog), show a message: "Tools in this pack are being updated. Check back soon!" instead of an empty list.
  </action>
  <verify>
    File exists: `ls src/app/packs/\\[slug\\]/page.tsx`
    TypeScript compiles: `cd /Users/clawdioversace/ai-bazaar && bunx tsc --noEmit --pretty 2>&1 | head -30`
    Build succeeds: `cd /Users/clawdioversace/ai-bazaar && timeout 60 bun run build 2>&1 | tail -15`
    Dynamic metadata: `grep -n 'generateMetadata' src/app/packs/\\[slug\\]/page.tsx`
    Tool links present: `grep -n '/tools/' src/app/packs/\\[slug\\]/page.tsx`
    notFound handling: `grep -n 'notFound' src/app/packs/\\[slug\\]/page.tsx`
  </verify>
  <done>
    Pack detail page at /packs/[slug] renders pack header, narrative intro, and ordered tool list with step numbers and narrative text. Each tool links to its full listing. Invalid slugs return 404. Dynamic SEO metadata works. Next.js build succeeds.
  </done>
</task>

</tasks>

<verification>
1. `cd /Users/clawdioversace/ai-bazaar && bunx tsc --noEmit` — TypeScript compiles clean
2. `bun run build` — Next.js build succeeds (both /packs and /packs/[slug] compile)
3. Header nav shows Home, Browse, Packs, Submit links
4. `/packs` page renders a grid of pack cards with names and taglines
5. Clicking a pack card navigates to `/packs/[slug]`
6. Pack detail page shows pack name, tagline, description, and ordered tool list
7. Each tool in the pack has a step number, name (linked to /tools/[slug]), tagline, and narrative
8. Visiting `/packs/nonexistent-slug` returns 404
9. Pack pages have correct metadata title and description
</verification>

<success_criteria>
- /packs browse page renders all seeded packs as cards in a responsive grid
- /packs/[slug] detail page shows pack metadata + ordered tools with narrative
- Pack detail tool links navigate to /tools/[slug] listing pages
- Nav header includes "Packs" link between Browse and Submit
- Invalid pack slugs return 404
- SEO metadata generated dynamically for each pack
- Build passes with no TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/06-starter-packs/06-02-SUMMARY.md`
</output>
