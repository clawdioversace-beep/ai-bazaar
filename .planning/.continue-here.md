---
phase: milestone-1-fix-the-product
task: quick-tasks
status: in_progress
last_updated: 2026-02-20T15:36:26.473Z
---

<current_state>
Working through Milestone 1 spec ("Fix the Product") from `~/Downloads/ai-bazaar-milestone1-spec.md`. Completed gap analysis against original 6-task spec. Currently executing remaining tasks.
</current_state>

<completed_work>

### Original Spec Tasks (6 total)
- Task 1: Fix HuggingFace listings — DONE (commit efd73b9)
- Task 2: Data pipeline + hype scores — DONE (3 scrapers, hype algorithm, trending section)
- Task 3: Submit flow dual-mode — 90% DONE (GitHub + SaaS mode, pending status, CTA button. Missing: admin approve/reject page)
- Task 4: Email capture — DONE (commit 74df531, deployed + prod migrated)
- Task 5: Categories & browsing — DONE (11 categories, sort, search, pagination, detail page with related tools)
- Task 6: Affiliate link infrastructure — NOT STARTED

### Extra Features (not in original spec)
- Curated AI Reads section (`/reads` page + homepage Top Reads) — DONE (commit b135935, 12 seeded entries)
- Starter Packs feature — DONE (from v1.0 MVP phases)

### This Session Specifically
1. Implemented `/reads` page: schema, service, browse page with category filters, read-card component, nav link, homepage section, seed script with 12 curated entries
2. Committed, pushed, deployed, ran prod migration + seed for reads
3. Audited all 6 milestone tasks against codebase — wrote gap analysis
4. Implemented email capture (Task 4): subscribers table, server action, hero email input, scroll-triggered bottom banner with 7-day dismiss cookie
5. Committed, pushed, deployed, ran prod migration for subscribers table
</completed_work>

<remaining_work>

### Task 3 Gap: Admin Approve Page (~1 hour)
- `src/app/admin/page.tsx` — list pending (verified=false) submissions
- `src/app/admin/actions.ts` — approve (set verified=true) and reject (delete) server actions
- No auth needed for MVP — unlisted URL

### Task 6: Affiliate Link Infrastructure (~2 hours)
- Add `affiliate_url` column to listings schema
- Add `clicks` table (tool_id, clicked_at, referrer_page, user_agent)
- Create `/go/[slug]/route.ts` redirect handler (log click, redirect to affiliate_url or sourceUrl)
- Update tool detail page and listing card to route external links through `/go/`
- Manually add affiliate URLs for tools with known programs (n8n, etc.)

### Curation Quality (Jet's feedback)
- Jet noted "we need better curation in terms of what is on top" — the homepage Top Tools shows generic infra repos (Kubernetes, Traefik) drowning out actual AI tools, and New This Week shows random npm Docker packages
- This needs attention: either manual featured picks, algorithm improvements, or both
</remaining_work>

<decisions_made>

- Email capture stores in own DB (`subscribers` table) — Beehiiv integration deferred until Jet sets up account
- Duplicate email submissions silently succeed (no error shown to user)
- Scroll banner uses cookie-based dismiss (7-day expiry), appears after 50% scroll
- Used `useActionState` (React 19) for subscribe form state management
- Reads feature was added as bonus beyond original spec — link aggregator pattern, no detail pages needed
- All prod migrations run by pulling Vercel env vars temporarily, then cleaning up the file
</decisions_made>

<blockers>
- None currently blocking
- Jet hasn't set up Beehiiv account yet — email capture works locally in DB for now
- Curation quality concern raised but not yet addressed — needs product decision on approach
</blockers>

<context>
Milestone 1 spec has 6 tasks. 4 fully done, 1 at 90% (missing admin page), 1 not started (affiliate links). Plus bonus reads feature shipped. The site is live at https://ai-bazaar-eight.vercel.app. All changes are committed, pushed, and deployed. Prod Turso DB is fully migrated.

Jet's most recent feedback was about curation quality — what shows on top of the homepage isn't great. This is a product/algorithm concern separate from the remaining spec tasks.
</context>

<next_action>
Start with: Address Jet's curation quality concern (most impactful for user experience), then build admin approve page (Task 3 gap), then affiliate link infrastructure (Task 6).
</next_action>
